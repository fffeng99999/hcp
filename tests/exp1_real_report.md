# 实验一（真实链）：交易量 × 节点规模

本实验直接在基于 Cosmos-SDK 的 hcp-consensus 多节点测试网上，通过 bank 模块发送真实交易，测量不同交易量与节点规模下的 TPS 和延迟分布。

## 实验说明

- 启动脚本：hcp/start_nodes.sh（通过 DATA_ROOT 隔离实验数据目录，不影响已有 HCP-Bench 系统）。

- 交易类型：bank send，从 node1 账户向 node2 账户转账 1stake。

- 签名与广播：使用 hcp-consensus-build/hcpd CLI，同步模式（--broadcast-mode sync），以 CheckTx 返回时间近似单笔交易前向延迟。

## 实验结果

| 节点数 | 交易数 | 总耗时(s) | TPS | 平均延迟(ms) | P99 延迟(ms) |
| --- | --- | --- | --- | --- | --- |
| 4 | 100 | 11.8946 | 8.41 | 98.25 | 106.19 |
| 8 | 100 | 12.0466 | 8.30 | 99.67 | 113.94 |

## 初步观察

- 每笔交易的平均延迟和 P99 延迟基于 CLI 阻塞时间（主要覆盖网络与 CheckTx 开销，未包含完整区块最终确认时间）。
- TPS 与延迟随节点数和交易数的变化趋势，可与 PBFT O(n²) 理论模型对比，用于标定模型参数。